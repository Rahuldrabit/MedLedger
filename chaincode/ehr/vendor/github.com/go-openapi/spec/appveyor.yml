version: "0.1.{build}"

clone_folder: C:\go-openapi\spec
shallow_clone: true # for startup speed
pull_requests:
  do_not_increment_build_number: true

#skip_tags: true
#skip_branch_with_pr: true

# appveyor.yml
build: off

environment:
  GOPATH: c:\gopath

stack: go 1.15

test_script:
  - go test -v -timeout 20m ./...

deploy: off

notifications:
  - provider: Slack
    # Use environment variables for secrets. Set these locally in a .env file
    # (not checked into git) and/or configure them as secured variables in CI.
    incoming_webhook: %SLACK_WEBHOOK%
    auth_token: %SLACK_AUTH_TOKEN%
    channel: bots
    on_build_success: false
    on_build_failure: true
    on_build_status_changed: true
